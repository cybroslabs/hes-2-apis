syntax = "proto3";
package io.clbs.openhes.pbdataproxy;

option go_package = "github.com/cybroslabs/hes-2-apis/protobuf/pbdataproxy";

import "google/protobuf/empty.proto";
import "pbtaskmaster.proto";

// The Dataproxy related service definition.
service DataproxyService {
    // The method called by the Taskmaster to notify about finished job.
    rpc NotifyJobFinished(pbtaskmaster.BulkJobEventData) returns (google.protobuf.Empty);
    // The method called by the RestApi to start a new bulk of jobs.
    rpc CreateBulk(pbtaskmaster.CreateBulksRequest) returns (google.protobuf.Empty);
    // The method called by the RestApi to retrieve stored bulks.
    rpc GetBulks(pbtaskmaster.GetBulksReuqest) returns (pbtaskmaster.GetBulksResponse);
    // The method called by the RestApi to retrieve single bulk.
    rpc GetBulk(pbtaskmaster.GetBulkRequest) returns (pbtaskmaster.GetBulkResponse);
    // The method called by the RestApi to get the job status. The parameter contains the job identifier.
    rpc GetJob(pbtaskmaster.GetJobRequest) returns (pbtaskmaster.GetJobResponse);
}
